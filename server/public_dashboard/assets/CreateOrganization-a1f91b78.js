import{q as P,t as R,j as e,r as n,s as T,o as S,l as A,C as L,v as M,T as o}from"./index-8fa6c81f.js";var v={},E=R;Object.defineProperty(v,"__esModule",{value:!0});var D=v.default=void 0,U=E(P()),B=e,K=(0,U.default)((0,B.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}),"CloudUpload");D=v.default=K;const $=()=>{const[r,u]=n.useState(null),c=n.useRef(null),[m,l]=n.useState(!1),h=a=>{a.preventDefault(),l(!0)},d=a=>{a.preventDefault(),l(!1)},p=a=>{a.preventDefault(),l(!1),a.dataTransfer.files.length>0&&u(a.dataTransfer.files)},f=()=>{if(r){const a=new FormData;for(let i=0;i<r.length;i++)a.append("Files",r[i]);console.log(Array.from(a.getAll("Files"))),fetch("/api/http://localhost:3001/api/events/create",{method:"POST",body:a})}};if(r)return e.jsxs("div",{className:"uploads",children:[e.jsx("ul",{children:Array.from(r).map((a,i)=>e.jsx("li",{children:a.name},i))}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:()=>u(null),children:"Cancel"}),e.jsx("button",{onClick:f,children:"Upload"})]})]});const g=T("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`dropzone ${m?"drag-hover":""}`,onDragOver:h,onDragLeave:d,onDrop:p,children:[e.jsx("h4",{children:"Raahaa kuva"}),e.jsx("h1",{children:"tai"}),e.jsx("input",{type:"file",multiple:!0,onChange:a=>u(a.target.files),hidden:!0,accept:"image/png, image/jpeg",ref:c}),e.jsxs(S,{component:"label",variant:"contained",startIcon:e.jsx(D,{}),children:["Valitse kuva",e.jsx(g,{type:"file"})]})]})})},H=$;function Y(){const[r,u]=n.useState(""),[c,m]=n.useState(""),[l,h]=n.useState(""),[d,p]=n.useState(""),[f,g]=n.useState(""),[a,i]=n.useState(""),[x,k]=n.useState(""),[j,q]=n.useState(""),[y,W]=n.useState(""),[b,z]=n.useState(""),[C,_]=n.useState(""),{user:s}=A(),[F]=n.useState(!0),N=async t=>{t.preventDefault();const w=s==null?void 0:s.token;console.log(r);const O={address:{street:a,city:x,state:j,zipcode:y,country:b,coordinates:[12.34,56.78]},contact_info:{email:l,phone:d},name:c,business_id:C,contact_info_visible:F};console.log(s==null?void 0:s.token);const I=await(await fetch("api/organizations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`${w}`},body:JSON.stringify(O)})).json();console.log("this comes through",I)};return e.jsx("main",{children:e.jsx(L,{component:"section",maxWidth:"xs",className:"mt-6",children:e.jsx("div",{className:"flex flex-col items-center p-2",children:e.jsxs(M,{component:"form",onSubmit:N,children:[e.jsx(o,{color:"info",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Seurakunnan nimi",name:"name",value:c,onChange:t=>m(t.target.value),autoFocus:!0}),e.jsx(o,{color:"info",margin:"normal",required:!0,fullWidth:!0,name:"nomination",label:"Kirkkokunta",type:"text",id:"nomination",value:r,onChange:t=>u(t.target.value)}),e.jsx(o,{color:"info",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Sähköposti",type:"email",name:"email",value:l,onChange:t=>h(t.target.value)}),e.jsx(o,{color:"info",margin:"normal",required:!0,fullWidth:!0,name:"phone-number",label:"Puhelin numero",type:"text",id:"phone-number",value:d,onChange:t=>p(t.target.value)}),e.jsx(o,{color:"info",margin:"normal",required:!0,fullWidth:!0,name:"leader",label:"Johtaja",type:"text",id:"leader",value:f,onChange:t=>g(t.target.value)}),e.jsx(o,{color:"info",margin:"normal",required:!0,fullWidth:!0,name:"street",label:"Katu",type:"street",id:"street",value:a,onChange:t=>i(t.target.value)}),e.jsx(o,{color:"info",margin:"normal",required:!0,fullWidth:!0,name:"city",label:"Kaupunki",type:"city",id:"city",value:x,onChange:t=>k(t.target.value)}),e.jsx(o,{color:"info",margin:"normal",required:!0,fullWidth:!0,name:"state",label:"Maakunta",type:"state",id:"state",value:j,onChange:t=>q(t.target.value)}),e.jsx(o,{color:"info",margin:"normal",required:!0,fullWidth:!0,name:"zipcode",label:"Postinumero",type:"zipcode",id:"zipcode",value:y,onChange:t=>W(t.target.value)}),e.jsx(o,{color:"info",margin:"normal",required:!0,fullWidth:!0,name:"country",label:"Maa",type:"country",id:"country",value:b,onChange:t=>z(t.target.value)}),e.jsx("h2",{children:" koordinaatit pitäis nappaa"}),e.jsx(o,{color:"info",margin:"normal",required:!0,fullWidth:!0,name:"business-id",label:"Y-tunnus",type:"text",id:"business-id",value:C,onChange:t=>_(t.target.value)}),e.jsxs("div",{className:"drag-container",children:[e.jsx("h3",{children:"Lataa kuva seurakunnasta"}),e.jsx(H,{})]}),e.jsx(S,{type:"submit",color:"primary",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Luo seurakunta"})]})})})})}export{Y as default};
